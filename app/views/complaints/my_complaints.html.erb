<% content_for(:title, "My Complaints - JusticeHub") %>

<div class="complaints-page">
  <div class="page-header">
    <h1>My Complaints</h1>
    <p>Track and manage your complaints</p>
  </div>

  <% if @complaints.any? %>
    <div class="complaints-list">
      <% @complaints.each do |complaint| %>
        <div class="complaint-card">
          <div class="complaint-header">
            <span class="complaint-id">#<%= complaint.id %></span>
            <span class="type-badge <%= complaint.complaint_type %>"><%= complaint.complaint_type.titleize %></span>
            <span class="status-badge status-<%= complaint.status %>"><%= complaint.status.titleize %></span>
          </div>
          
          <h3><%= complaint.subject %></h3>
          <p class="description"><%= complaint.description.truncate(150) %></p>
          
          <div class="complaint-meta">
            <span><i class="fas fa-calendar"></i> <%= complaint.created_at.strftime("%d %b %Y") %></span>
            <span><i class="fas fa-tag"></i> <%= complaint.complaint_type.titleize %></span>
            <% if complaint.amount > 0 %>
              <span><i class="fas fa-rupee-sign"></i> â‚¹<%= complaint.amount %></span>
            <% end %>
          </div>
          
          <div class="complaint-actions">
            <%= link_to "View Details", complaint_path(complaint), class: "btn btn-primary" %>
            <% if complaint.editable? %>
              <%= link_to "Edit", edit_complaint_path(complaint), class: "btn btn-secondary" %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state">
      <i class="fas fa-folder-open"></i>
      <h3>No Complaints Yet</h3>
      <p>You haven't filed any complaints yet.</p>
      <%= link_to "File Your First Complaint", new_complaint_path, class: "btn btn-primary" %>
    </div>
  <% end %>
</div>

<style>
.complaints-page {
  padding: 100px 24px 60px;
  max-width: 1000px;
  margin: 0 auto;
}

.page-header {
  margin-bottom: 32px;
}

.page-header h1 {
  font-size: 32px;
  margin-bottom: 8px;
}

.page-header p {
  color: #718096;
}

.complaints-list {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.complaint-card {
  background: white;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.complaint-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.complaint-id {
  font-weight: 600;
  color: #4a5568;
}

.type-badge {
  padding: 4px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  background: #e2e8f0;
}

.status-badge {
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
}

.status-submitted { background: #bee3f8; color: #2b6cb0; }
.status-under_review { background: #fefcbf; color: #975a16; }
.status-lawyer_assigned { background: #c6f6d5; color: #276749; }
.status-in_progress { background: #e9d8fd; color: #6b46c1; }
.status-resolved { background: #9ae6b4; color: #22543d; }
.status-closed { background: #cbd5e0; color: #4a5568; }

.complaint-card h3 {
  font-size: 18px;
  margin-bottom: 8px;
}

.description {
  color: #718096;
  margin-bottom: 16px;
  line-height: 1.6;
}

.complaint-meta {
  display: flex;
  gap: 20px;
  margin-bottom: 16px;
  color: #718096;
  font-size: 14px;
}

.complaint-meta span {
  display: flex;
  align-items: center;
  gap: 6px;
}

.complaint-actions {
  display: flex;
  gap: 12px;
}

.btn {
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 500;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.btn-primary {
  background: linear-gradient(135deg, #4299e1, #3182ce);
  color: white;
}

.btn-secondary {
  background: #e2e8f0;
  color: #4a5568;
}

.empty-state {
  text-align: center;
  padding: 60px 20px;
  background: white;
  border-radius: 12px;
}

.empty-state i {
  font-size: 64px;
  color: #cbd5e0;
  margin-bottom: 16px;
}

.empty-state h3 {
  margin-bottom: 8px;
  color: #4a5568;
}

.empty-state p {
  color: #718096;
  margin-bottom: 24px;
}
</style>
